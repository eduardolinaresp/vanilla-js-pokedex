<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedex</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <main class="main">  
        <h1  id="pokemonname">pikachu</h1>
        <img id="pokemonimg" src="" alt="">
        <input type="text" id="search">
    </main>
    <script>  
       async function getpokemon(pokemon){
            const url = `https://pokeapi.co/api/v2/pokemon/${pokemon}`
            const response = await fetch(url)
            const pokemondata   = await response.json()
            return pokemondata
            }

        async function init(){
            
            const pokemon = await getpokemon(25)

            window.pokemonname.textContent = pokemon.name
            window.pokemonimg.setAttribute('src',pokemon.sprites.front_default) 
            updatePokemon(pokemon)
            console.log(pokemon);
        }

        
        function updatePokemon(pokemon){
            window.pokemonname.textContent = pokemon.name
            window.pokemonimg.setAttribute('src',pokemon.sprites.front_default) 

        }

      async  function getnewpokemon(e){

          if (e.key === 'Enter') {
                console.log('Se presionó Enter')
                const pokemonname = window.search.value
                const pokemon = await getpokemon(pokemonname)
                updatePokemon(pokemon)
             }
        }



      
        init()

     //window.search.addEventListener('keypress', async getnewpokemon(e));
 

        window.search.addEventListener('keypress', async function (e) {
            if (e.key === 'Enter') {
                console.log('Se presionó Enter')
                const pokemonname = window.search.value
                const pokemon = await getpokemon(pokemonname)
                updatePokemon(pokemon)
             }
        });


  /*       window.search.addEventListener('change', async() => {
            const pokemonname = window.search.value
            const pokemon = await getpokemon(pokemonname)
            updatePokemon(pokemon)

        })

*/
   
    </script>
 <!--<script src="js/app.js"></script>-->
</body>
</html>